<!DOCTYPE html>
<meta charset="utf-8">
<style>
 /* Style goes here */
 .neighborhood { fill: #dddc; }
 .neighborhood-boundary {
     fill: none;
     stroke: #777;
     stroke-dasharray: 2,2;
     stroke-linejoin: round;
 }
</style>
<body>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="//d3js.org/topojson.v1.min.js"></script>
    <script>
     var width = 960,
         height = 500;

     /* var projection = d3.geo.mercator() */
     /* .scale(500) */
     /* .translate([width / 2, height / 2]); */


     var projection = d3.geo.mercator()
                        .center([-74.94, 40.70])
                        .scale(50000)
                        .translate([width / 2, height / 2]);

     var path = d3.geo.path()
              .projection(projection)

     var svg = d3.select("body").append("svg")
                 .attr("width", width)
                 .attr("height", height);

     var g = svg.append("g")

     d3.json("working/nyc-topo.json", function(error, nyc) {
         var neighborhoods = topojson.feature(nyc, nyc.objects['nyc-geo']);
         var neighborhoods_mesh = topojson.mesh(nyc, nyc.objects['nyc-geo']);

         /* debugger; */
         g.append("g")
             .attr("id", "neighborhoods")
             .selectAll(".neighborhood")
            .data(neighborhoods.features)
            .enter().append("path")
            .attr("class", function(d) { return "subunit " + d.id; })
             .attr("d", path);

         g.append("path")
            .datum(neighborhoods_mesh, function(a,b) { return a !== b; })
            .attr("d", path)
             .attr("class", "neighborhood-boundary")


     });
    </script>
